[attributes]
plus=&#43;
caret=&#94;
startsb=&#91;
endsb=&#93;
tilde=&#126;

[blockdef-source-highlight]
delimiter=^source~{4,}$
template=source-highlight-block
presubs=none
postsubs=callouts
filter=source-highlight -f {backend-xhtml11?xhtml}{backend-html4?html}{backend-docbook?docbook} -s {language} {src_numbered?--line-number} {src_tab?--tab={src_tab}}
posattrs=language,src_numbered,src_tab

[source-highlight-block]
template::[listingblock]

[macros]
(?su)[\\]?(?P<name>mcglink):(?P<target>\S*?)\[(?P<attrlist>.*?)\]=

# Customized listingblock block for xhtml11 to ensure valid XHTML1.1.
ifdef::backend-xhtml11[]
[source-highlight-block]
<div class="listingblock">
<a id="{id}"></a>
<div class="title">{caption=Example: }{title}</div>
<div class="content">
|
</div></div>
endif::backend-xhtml11[]

## mcglink: macro
#
# Usage: mcglink:command[manpage-section]
#
# Note, {0} is the manpage section, while {target} is the command.
#
# Show MCG link as: <command>(<section>); if section is defined, else just show
# the command.

ifdef::backend-docbook[]
[mcglink-inlinemacro]
{0%{target}}
{0#<citerefentry>}
{0#<refentrytitle>{target}</refentrytitle><manvolnum>{0}</manvolnum>}
{0#</citerefentry>}
endif::backend-docbook[]

ifdef::backend-xhtml11[]
[mcglink-inlinemacro]
<a href="{target}.html">{target}{0?({0})}</a>
endif::backend-xhtml11[]

# vim:filetype=dosini:tw=78
